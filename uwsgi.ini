[uwsgi]
; socket = /app.sock
http-socket = :80
chdir = .
stats = /tmp/uwsgi.stats
module=coffeeshop.wsgi:application
chmod-socket=666
# log setting
log-5xx = true
disable-logging = true
logto= /var/log/uwsgi.log
# maximum number of worker processes

# max process
#processes = 8
workers = 16          # maximum number of workers

cheaper-algo = spare2
cheaper = 8           # tries to keep 8 idle workers
cheaper-initial = 8   # starts with minimal workers
cheaper-step = 4      # spawn at most 4 workers at once
cheaper-idle = 60     # cheap one worker per minute while idle
# respawn processes after serving 3000 requests
max-requests = 100000
# # respawn worker after 5 minutes for database connectivity ensurance
#max-worker-lifetime = 3000

lazy-apps = true
master = true
enable-threads = true
vacuum = true
harakiri = 31

buffer-size=65535
post-buffering=32768

listen=2048